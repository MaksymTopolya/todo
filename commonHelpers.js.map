{"version":3,"file":"commonHelpers.js","sources":["../src/js/createUser.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst registrationForm = document.getElementById(\"registration-form\")\n\nregistrationForm.addEventListener(\"submit\", createUser)\nfunction createUser(event) {\n    event.preventDefault();\n    const userName = event.target.elements.username.value;\n    const userEmail = event.target.elements.email.value;\n    const userPassword = event.target.elements.password.value;\n    \n    const userObj = {\n        name: userName,\n        email: userEmail,\n        password: userPassword,\n    };\n\n     let usersInStorage = localStorage.getItem(\"users\");\n    if (!usersInStorage) {\n        usersInStorage = [];\n    } else {\n        usersInStorage = JSON.parse(usersInStorage);\n    }\n\n    if (usersInStorage.find(user => user.email === userEmail)) {\n        return iziToast.error({\n            title: 'Hey',\n            message: \"This email is already in use\",\n            theme: 'dark',\n            backgroundColor: 'red',\n            position: 'topCenter',\n            color: 'black',\n        });\n    }\n\n    usersInStorage.push(userObj);\n    localStorage.setItem(\"users\", JSON.stringify(usersInStorage));\n\n\n    event.target.reset();\n\n    return iziToast.show({\n        title: '',\n        message: \"You have created your account\",\n        theme: 'dark',\n        backgroundColor: 'green',\n        position: 'topCenter',\n        color: 'black',\n    });\n}\n\n\n\n\n\n\n\n"],"names":["registrationForm","createUser","event","userName","userEmail","userPassword","userObj","usersInStorage","user","iziToast"],"mappings":"0FAGA,MAAMA,EAAmB,SAAS,eAAe,mBAAmB,EAEpEA,EAAiB,iBAAiB,SAAUC,CAAU,EACtD,SAASA,EAAWC,EAAO,CACvBA,EAAM,eAAc,EACpB,MAAMC,EAAWD,EAAM,OAAO,SAAS,SAAS,MAC1CE,EAAYF,EAAM,OAAO,SAAS,MAAM,MACxCG,EAAeH,EAAM,OAAO,SAAS,SAAS,MAE9CI,EAAU,CACZ,KAAMH,EACN,MAAOC,EACP,SAAUC,CAClB,EAEK,IAAIE,EAAiB,aAAa,QAAQ,OAAO,EAOlD,OANKA,EAGDA,EAAiB,KAAK,MAAMA,CAAc,EAF1CA,EAAiB,CAAA,EAKjBA,EAAe,KAAKC,GAAQA,EAAK,QAAUJ,CAAS,EAC7CK,EAAS,MAAM,CAClB,MAAO,MACP,QAAS,+BACT,MAAO,OACP,gBAAiB,MACjB,SAAU,YACV,MAAO,OACnB,CAAS,GAGLF,EAAe,KAAKD,CAAO,EAC3B,aAAa,QAAQ,QAAS,KAAK,UAAUC,CAAc,CAAC,EAG5DL,EAAM,OAAO,QAENO,EAAS,KAAK,CACjB,MAAO,GACP,QAAS,gCACT,MAAO,OACP,gBAAiB,QACjB,SAAU,YACV,MAAO,OACf,CAAK,EACL"}